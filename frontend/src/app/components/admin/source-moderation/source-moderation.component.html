<div class="container">
  <h2>Moderación de Fuentes de Agua</h2>

  <!-- Loading state -->
  <div *ngIf="isLoading" class="loading">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Cargando fuentes pendientes...</p>
  </div>

  <!-- Error state -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
    <button mat-button color="primary" (click)="loadPendingSources()">Reintentar</button>
  </div>

  <!-- Empty state -->
  <div *ngIf="!isLoading && !errorMessage && pendingSources.length === 0">
    <p>No hay fuentes pendientes de moderación</p>
  </div>

  <!-- Sources list -->
  <div *ngFor="let source of pendingSources" class="source-card">
    <mat-card>
      <mat-card-header>
        <mat-card-title>{{ source.name }}</mat-card-title>
        <mat-card-subtitle>
          Creada por: {{ source.username }} | {{ source.created_at | date }}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p>{{ source.description }}</p>
        <p><strong>Tipo:</strong> {{ source.type }}</p>
        <p><strong>Ubicación:</strong> {{ source.latitude }}, {{ source.longitude }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button class="approve-btn" (click)="moderateSource(source.id, 'approved')">Aceptar</button>
        <button mat-raised-button class="reject-btn" (click)="moderateSource(source.id, 'rejected')">Rechazar</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>